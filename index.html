<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendrier</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="icon" type="image/x-icon" href="icon.png" />
  </head>
  <body>
    <div id="settings-wrapper" class="page">
      <form name="parameter-form">
        <h1>Paramètres</h1>
        <div class="two-col-layout">
          <div>
            <h2>Calendrier</h2>
            <label>Date de début:</label>
            <input
              type="date"
              id="startDate"
              name="startDate"
              placeholder="Date de début"
              required
            />
            <br /><br />
            <label>Nombres de jours:</label>
            <input
              type="number"
              name="numberDays"
              min="1"
              style="width: 50px"
              required
            />
            <br /><br />
            <label>Jours fériés:</label>
            <input
              type="date"
              id="bankHolidays"
              name="bankHolidays"
              placeholder="Jours fériés"
              required
            />
            <br /><br />
            <label>Durée d'une leçon:</label>
            <select name="lessonDuration" required>
              <option value="1">1h</option>
              <option value="1.5">1h30</option>
              <option value="2">2h</option>
              <option value="2.5">2h30</option>
              <option value="3">3h</option>
              <option value="3.5">3h30</option>
              <option value="4">4h</option>
            </select>
            <br /><br />
            <input type="submit" value="Suivant" />
          </div>
        </div>
      </form>
    </div>
    <div id="conditions-wrapper" class="page" style="display: none">
      <button onclick="navigate('settings-wrapper')">Précédent</button>
      <button onclick="generateLessonListAndBuildHtml()">Suivant</button>
      <div id="teachers-wrapper">
        <p id="date-indication"></p>
        <form name="teachers-form">
          <h1>Professeurs</h1>
          <table class="teachers">
            <thead>
              <tr>
                <th>Nom</th>
                <th>Indispo. récurrente</th>
                <th>Congés</th>
                <th>Volume horaire</th>
                <th>Niveaux préférés</th>
              </tr>
            </thead>
            <tbody id="tbody-teachers"></tbody>
          </table>
        </form>
      </div>
    </div>
    <div id="lessons-calendar-wrapper" class="page" style="display: none">
      <button onclick="navigate('conditions-wrapper')">Précédent</button>
      <div id="lessons-wrapper">
        <form name="addLesson-form">
          <h1>Leçons</h1>
          <table class="lessons">
            <thead>
              <tr>
                <th>Date</th>
                <th>Professeur</th>
                <th>Niveau</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="lessons">
              <tr>
                <td>
                  <input type="date" name="date" required />
                </td>
                <td>
                  <select id="teachers" name="teacherName" required>
                    <option value=""></option>
                  </select>
                </td>
                <td>
                  <select id="levels" name="levelName" required>
                    <option value=""></option>
                  </select>
                </td>
                <td><input type="submit" value="+" /></td>
              </tr>
            </tbody>
          </table>
        </form>
      </div>
      <div id="calendar-wrapper"></div>
    </div>

    <!-- Load util files -->
    <script src="utils/common-util.js"></script>
    <script src="utils/html-conditions-builder-util.js"></script>
    <script src="utils/html-calendar-builder-util.js"></script>
    <script src="utils/date-public-util.js"></script>
    <!-- Load models -->
    <script src="models/lesson.js"></script>
    <script src="models/teacher.js"></script>
    <script src="models/level.js"></script>
    <!-- Load data for local development -->
    <script src="local-data.js"></script>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- Load script -->
    <script src="script.js"></script>
  </body>
</html>
